(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{52:function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){var e,t,o;function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.btn=e,this.setListener(this.btn)}return e=r,(t=[{key:"setListener",value:function(e){e&&(e.onmousemove=function(e){var t=e.pageX-e.target.offsetLeft,o=e.pageY-e.target.offsetTop;e.target.style.setProperty("--x","".concat(t,"px")),e.target.style.setProperty("--y","".concat(o,"px"))})}}])&&n(e.prototype,t),o&&n(e,o),r}();t.a=r},578:function(e,t,o){"use strict";o.r(t);var n=o(8),r=o.n(n),a=o(52);function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){var e,t,o;function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.block=document.querySelector(".postList"),this.commentsForm=document.querySelector("[data-blogCommentsForm]"),this.commentsForm&&(this.postId=document.querySelector("[data-blogCommentPostId]").dataset.blogcommentpostid,this.route=document.querySelector("[data-blogCommentRoute]").dataset.blogcommentroute,this.activateComments()),this.block&&(this._createMagicButtons(),this.setListenersLikesDislikes(this.block))}return e=n,(t=[{key:"_createMagicButtons",value:function(){document.querySelectorAll(".magic_btn").forEach((function(e){var t=new a.a(e);console.warn("btns.forEach",t)}))}},{key:"_clearForm",value:function(){var e=this.commentsForm.querySelectorAll("input");this.commentsForm.querySelector('[name="message"]').value="",e.forEach((function(e){return e.value=""}))}},{key:"_makeRequest",value:function(e){var t=e.name,o=e.email,n=e.message,r=e.postId,a=(document.querySelector("[data-blogcommentpostid]").dataset.blogcommentpostid,this);fetch(this.route,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":window.token},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({name:t,email:o,message:n,postId:r})}).then((function(e){return e.json()})).then((function(e){a._clearForm()})).catch((function(e){return console.error(e.message)}))}},{key:"activateComments",value:function(){var e=this.commentsForm.querySelector(".blogCom_submit"),t=this.commentsForm.querySelectorAll("input"),o=this.commentsForm.querySelector('[name="message"]'),n={},r=this;e.addEventListener("click",(function(){t.forEach((function(e){var t=e.getAttribute("name"),o=e.value;n[t]=o})),n[o.getAttribute("name")]=o.value,n.postId=r.postId,r._makeRequest(n)}))}},{key:"setListenersLikesDislikes",value:function(e){var t=e.querySelectorAll(".postList_item");t.forEach((function(e,o){var n,a=e.querySelector(".postList_like"),i=e.querySelector(".postList_dislike"),s=e.querySelector(".postList_like_val"),c=e.querySelector(".postList_dislike_val");[a,i].forEach((function(e){e.addEventListener("click",(function(e){var a=t[o].getAttribute("data-id"),i="/blog/like/"+a;i=i.replace("#","");var u=e.currentTarget.classList.value;n=u.indexOf("dis")>=0?"false":"true";var l={};l.isLike=n,l.post_id=a,r.a.ajaxSetup({headers:{"X-CSRF-TOKEN":window.token}}),r.a.ajax({method:"post",url:"".concat(i),data:l,success:function(e){!function(e){e.likes?s.innerText=e.likes:s.innerText=0,e.dislikes?c.innerText=e.dislikes:c.innerText=0}(e)},error:function(e){var t=document.querySelector("#shouldBeLoggedIn");UIkit.modal(t).show()}})}))}))}))}}])&&i(e.prototype,t),o&&i(e,o),n}();t.default=s}}]);